ì§§ê³  ëª…í™•í•˜ê²Œ: **ìˆë‹¤ â€” ì•„ì£¼ ë¶„ëª…í•œ ê°•ì ë“¤ì´ ìˆì–´**.
ì•„ë˜ì—ì„œ ì„¤ê³„(Span/ë°”ì´ë„ˆë¦¬ íŠ¸ë¼ì´ + CSV ì»´íŒŒì¼ëŸ¬ + .NET8/netstandard2.1 + NuGet ë°°í¬)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì–´ë–¤ ê°•ì ì´ ìƒê¸°ëŠ”ì§€, ì™œ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ê³¼ ì°¨ë³„í™”ë˜ëŠ”ì§€, ê·¸ë¦¬ê³  ë‚¨ëŠ” ì•½ì ê³¼ ê·¸ ë³´ì™„ì±…ê¹Œì§€ í•œ ë²ˆì— ì •ë¦¬í• ê²Œ.

# 1) í•µì‹¬ ì°¨ë³„ì  â€” í•œ ë¬¸ì¥ ìš”ì•½

`FastChatFilter`ëŠ” **ì‹¤ì‚¬ìš© ì„œë²„ í™˜ê²½(ë‚®ì€ ë ˆì´í„´ì‹œ, ë†’ì€ ì²˜ë¦¬ëŸ‰, ì ì€ í• ë‹¹)**ì„ ìµœìš°ì„ ìœ¼ë¡œ ì„¤ê³„ëœ **ì œë¡œ-í• ë‹¹(ë˜ëŠ” ê±°ì˜ ì œë¡œ), Span<byte> ê¸°ë°˜ì˜ ì‚¬ì „(ë°”ì´ë„ˆë¦¬ íŠ¸ë¼ì´) ë£©ì—… ì—”ì§„**ì´ë‹¤. ê·¸ ê²°ê³¼ **ì´ˆë‹¹ ì²˜ë¦¬ëŸ‰(TPS)ê³¼ ë©”ëª¨ë¦¬ íš¨ìœ¨**ì—ì„œ ê¸°ì¡´ì˜ ëª©ë¡Â·ì •ê·œì‹Â·ML ê¸°ë°˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ ëŒ€ë¹„ ê°•ë ¥í•œ ìš°ìœ„ë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

# 2) êµ¬ì²´ì  ê°•ì  (ìš°ë¦¬ê°€ ì„¤ê³„í•œ êµ¬ì¡°ê°€ ì£¼ëŠ” ì´ì )

* **ê·¹íˆ ë‚®ì€ ëŸ°íƒ€ì„ í• ë‹¹(Zero-allocation)**

  * `Span<byte>`/`ReadOnlySpan<char>` ê¸°ë°˜ APIë¡œ GC ì••ë ¥ì„ ì¤„ì„ â†’ ê¸´ ì±„íŒ… ë¡œê·¸ë‚˜ ëŒ€ëŸ‰ ë™ì‹œ ìš”ì²­ì—ì„œ GC ì •ì§€ ì‹œê°„ ê°ì†Œ.
  * ë²¤ì¹˜ë§ˆí¬ì˜ í•µì‹¬ ì§€í‘œ(allocations/operation)ì—ì„œ ê²½ìŸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë³´ë‹¤ ìš°ìœ„.

* **ë§¤ìš° ë¹ ë¥¸ ë§¤ì¹­ ì„±ëŠ¥**

  * ë°”ì´íŠ¸ ê¸°ë°˜ ë°”ì´ë„ˆë¦¬ íŠ¸ë¼ì´(ë˜ëŠ” 16-ì§„ íŠ¸ë¼ì´)ë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ìì—´ ìŠ¤ìº”ì´ ì„ í˜•ì´ê³  ìºì‹œ ì¹œí™”ì  â†’ ë ˆì´í„´ì‹œ(ë‹¨ì¼ ìš”ì²­ ì²˜ë¦¬ ì‹œê°„) ìµœì†Œí™”.
  * íŠ¸ë¼ì´ê°€ ë©”ëª¨ë¦¬ì—ì„œ ìˆœìˆ˜ ì½ê¸° ì „ìš©ìœ¼ë¡œ ë™ì‘í•˜ë©´ lock-free ë™ì‹œ ì½ê¸° ê°€ëŠ¥.

* **ì´ˆê¸° ë¡œë”©/ë©”ëª¨ë¦¬ ìµœì í™”**

  * ë‹¨ì–´ë¥¼ ë¯¸ë¦¬ ì»´íŒŒì¼í•œ **ë°”ì´ë„ˆë¦¬ íŒŒì¼(.bin)** ë¡œ ë°°í¬ â†’ ëŸ°íƒ€ì„ íŒŒì‹± ë¹„ìš© ì œë¡œ, ë¹ ë¥¸ cold start.
  * ë©”ëª¨ë¦¬ë§µ(mmap) ì˜µì…˜ ì œê³µ ì‹œ ì—¬ëŸ¬ í”„ë¡œì„¸ìŠ¤ì—ì„œ ë°ì´í„° ê³µìœ  ê°€ëŠ¥(ë©”ëª¨ë¦¬ ì ˆê°).

* **ê°„ë‹¨í•œ API / ë‚®ì€ ì§„ì… ì¥ë²½**

  * `Load("words.bin"); Contains(span); Mask(span)` ê°™ì€ 1â€“3ë¼ì¸ ì‚¬ìš©ì„±ìœ¼ë¡œ ì±„íƒì„±â†‘ â†’ GitHub star + adoption ì¦ê°€.
  * NuGet ë°°í¬ë¡œ ì„¤ì¹˜/ì‚¬ìš© ê°„í¸.

* **CSVâ†’ì»´íŒŒì¼ëŸ¬ íˆ´ í¬í•¨**

  * ìœ ì§€ê´€ë¦¬ìê°€ CSVë¡œ ë‹¨ì–´ ê´€ë¦¬ â†’ ì»´íŒŒì¼ëŸ¬ë¡œ ë°”ì´ë„ˆë¦¬ ìƒì„± â†’ ë°°í¬ ìë™í™”(ë¦´ë¦¬ì¦ˆ íŒŒì´í”„ë¼ì¸ ì—°ê³„ ê°€ëŠ¥).
  * ìš´ì˜ì—ì„œ ë‹¨ì–´ ì¶”ê°€/ì—…ë°ì´íŠ¸ íŒŒì´í”„ë¼ì¸(ì˜ˆ: CIì—ì„œ ìë™ ë¹Œë“œ) êµ¬ì„± ê°€ëŠ¥.

* **ë©€í‹°í”Œë«í¼ í˜¸í™˜ì„±**

  * `net8.0` + `netstandard2.1` ì§€ì›ìœ¼ë¡œ .NET Core, .NET 8, Unity ë“± ê´‘ë²”ìœ„í•œ ì†Œë¹„ì í™•ë³´.

* **ë²”ìš©ì„±(í™•ì¥ì„±)**

  * ì–¸ì–´ë³„ ì‚¬ì „(íŒŒì¼) ë¶„ë¦¬: í•„ìš”í•œ ì–¸ì–´ë§Œ ë¡œë“œ â†’ ë©”ëª¨ë¦¬ ìµœì í™”.
  * ì˜µì…˜: ì™„ì „ ë§¤ì¹­/ë¶€ë¶„ ë§¤ì¹­, ë§ˆìŠ¤í‚¹ ë°©ì‹(ê¸¸ì´ ê³ ì •, ë³„í‘œ ê°œìˆ˜ ë“±) ììœ  ì„¤ì •.

# 3) ê²½ìŸ ê¸°ìˆ ê³¼ ë¹„êµ â€” ì¥ì ì´ íŠ¹íˆ ë‘ë“œëŸ¬ì§€ëŠ” ìƒí™©

* **vs ì •ê·œì‹ ê¸°ë°˜(ì˜ˆ: BogaNetì˜ ë‹¤êµ­ì–´ ì •ê·œì‹)**

  * ì •ê·œì‹ì€ ìœ ì—°í•˜ì§€ë§Œ CPU ë¹„ìš©ì´ í¬ê³  í• ë‹¹ì„ ë§ì´ ë°œìƒì‹œí‚´. ëŒ€ëŸ‰ ë©”ì‹œì§€ ì²˜ë¦¬ ì‹œ ëŠë ¤ì§.
  * FastChatFilterëŠ” ì •ì  ë£©ì—…ì´ë¯€ë¡œ ê³ ì„±ëŠ¥/ì €ì§€ì—°ì´ í•„ìš”í•œ ì‹¤ì‹œê°„ ì‹œìŠ¤í…œì—ì„œ ìš°ì„¸.

* **vs ë‹¨ìˆœ ë¦¬ìŠ¤íŠ¸ ë§¤ì¹­(ì˜ˆ: Censored, ProfanityDetectorì˜ ë‹¨ìˆœ ë¦¬ìŠ¤íŠ¸)**

  * ë‹¨ìˆœ ë¦¬ìŠ¤íŠ¸ëŠ” êµ¬í˜„ê³¼ ì‚¬ìš©ì€ ì‰¬ìš°ë‚˜ í° ë‹¨ì–´ì§‘(ìˆ˜ì²œ~ìˆ˜ë§Œ ë‹¨ì–´)ì—ì„œ ëŠë ¤ì§€ê³  ë©”ëª¨ë¦¬/í• ë‹¹ ë¬¸ì œê°€ ìƒê¹€.
  * Trie ê¸°ë°˜ì€ ì ‘ë‘ì‚¬ ê³µìœ ë¡œ ë©”ëª¨ë¦¬ íš¨ìœ¨ì´ ë†’ê³  ê²€ìƒ‰ì´ ë¹ ë¦„.

* **vs ML ê¸°ë°˜(ì˜ˆ: DotnetBadWordDetector)**

  * MLì€ obfuscation(ì² ìë³€í˜•) íƒì§€ì— ê°•í•¨(ì¥ì ). í•˜ì§€ë§Œ ëª¨ë¸ ë¡œë”©/ì¶”ë¡  ì˜¤ë²„í—¤ë“œ, ì˜ì¡´ì„±(ML.NET), ëª¨ë¸ ì—…ë°ì´íŠ¸/ë²„ì „ ê´€ë¦¬, ì„¤ëª… ê°€ëŠ¥ì„± ë¶€ì¡±(ì™œ íƒì§€í–ˆëŠ”ì§€) ê°™ì€ ë‹¨ì ì´ ìˆìŒ.
  * FastChatFilterëŠ” **ê²½ëŸ‰Â·ê²°ì •ì Â·ì˜¤í”„ë¼ì¸** ë™ì‘ìœ¼ë¡œ ì„œë²„ í™˜ê²½ì— ì í•©. MLì˜ ê°•ì ì„ ë³´ì™„í•˜ë ¤ë©´ **ì •ê·œí™”/ì „ì²˜ë¦¬(ë™í˜•ë¬¸ì ë§¤í•‘, ìˆ«ìâ†’ë¬¸ì ì¹˜í™˜)**ë¥¼ ì¶”ê°€í•˜ê±°ë‚˜ ì˜µì…˜ìœ¼ë¡œ â€œfuzzyâ€ í”ŒëŸ¬ê·¸ì¸ ì œê³µ ê°€ëŠ¥.

# 4) í•œê³„(ì •ì§í•˜ê²Œ) ë° ê¶Œì¥ ë³´ì™„ ì „ëµ

* **obfuscation(ë¬¸ì ì¹˜í™˜, homoglyph, leetspeak)** íƒì§€ ì„±ëŠ¥ì€ ML/ë³µì¡í•œ ì •ê·œì‹ë³´ë‹¤ ë‚®ìŒ.

  * **ë³´ì™„ë²•**: ì…ë ¥ ì •ê·œí™”(Unicode NFKC, ìˆ«ìâ†’a ë“± í°íŠ¸ ë³€í™˜ ë§µ), homoglyph í…Œì´ë¸”, ê°„ë‹¨í•œ ë ˆë²¤ìŠˆíƒ€ì¸/ìŠ¬ë¼ì´ë”© ìœˆë„ìš°/ë¹„íŠ¸íŒ¨ ì•Œê³ ë¦¬ì¦˜(ì˜µì…˜) ì¶”ê°€.
* **ì •ê·œì‹ì‹ íŒ¨í„´ íƒì§€(ë³µì¡í•œ íŒ¨í„´)** ëŠ” ì •ê·œì‹ ê¸°ë°˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë” ìœ ì—°í•˜ë‹¤.

  * **ë³´ì™„ë²•**: ê´€ë¦¬ì ì„¤ì •ìœ¼ë¡œ â€œregex ë°±ì—”ë“œâ€ë¥¼ ì„ íƒì  í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ í—ˆìš©.
* **ì •í™•ë„(ì»¨í…ìŠ¤íŠ¸ íŒë‹¨)** ì€ MLì´ ë” ìœ ë¦¬.

  * **ë³´ì™„ë²•**: í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë“œ: íŠ¸ë¼ì´(ë¹ ë¥¸ í•„í„°ë§) â†’ ì˜ì‹¬ í…ìŠ¤íŠ¸ë§Œ ML ê²€ì‚¬(ì„ íƒì ).

# 5) êµ¬í˜„/ì œí’ˆí™” ë‹¨ê³„ì—ì„œ ê²½ìŸ ìš°ìœ„ë¥¼ í™•ì‹¤íˆ ë§Œë“œëŠ” í•­ëª© (ìš°ì„ ìˆœìœ„)

1. **ì œë¡œ/ì €í• ë‹¹ Contains/Mask êµ¬í˜„** â€” ì„±ëŠ¥ ì§€í‘œ: allocations/op ê±°ì˜ 0. (ê°€ì¥ í° ì°¨ë³„ì )
2. **ë°”ì´ë„ˆë¦¬ ì»´íŒŒì¼ëŸ¬ í¬í•¨ + ì˜ˆì œ CI íŒŒì´í”„ë¼ì¸** â€” ìš´ì˜ìë“¤ì´ ë‹¨ì–´ë¥¼ í¸í•˜ê²Œ ë°°í¬ ê°€ëŠ¥.
3. **ë©”ëª¨ë¦¬ë§µ ë˜ëŠ” ReadOnlyMemory-based ë¡œë“œ** â€” ëŒ€í˜• ì„œë¹„ìŠ¤ì—ì„œ ë©”ëª¨ë¦¬ ì ˆê°.
4. **ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ë¬¸ì„œí™”(READMEì— ê·¸ë˜í”„)** â€” ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ëŠ” adoptionê³¼ starì— ì§ì ‘ ì˜í–¥.
5. **ê°„ë‹¨í•œ í†µí•© ì˜ˆì œ(ASP.NET Core / Unity / Redis ì—°ë™)** â€” ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ ì œê³µ.
6. **ì˜µì…˜í˜• ì „ì²˜ë¦¬(normalization, homoglyph mapping)** â€” í˜„ì‹¤ì—ì„œì˜ ë³€í˜• ëŒ€ì‘ë ¥ ë³´ê°•.
7. **í”ŒëŸ¬ê·¸ì¸/í•˜ì´ë¸Œë¦¬ë“œ ì•„í‚¤í…ì²˜** â€” regex/MLë¥¼ í•„ìš”ì‹œ ë¶™ì¼ ìˆ˜ ìˆê²Œ ì„¤ê³„.

# 6) ë²¤ì¹˜ë§ˆí¬ ê¶Œì¥ í•­ëª© (READMEì— ë„£ì–´ì•¼ í•  ìˆ˜ì¹˜)

* Throughput (ops/sec) â€” ë‹¤ì–‘í•œ ë©”ì‹œì§€ ê¸¸ì´(30B, 300B, 3KB)ì—ì„œ.
* Latency (p99, p99.9) â€” ë‹¨ì¼ ìš”ì²­ ë ˆì´í„´ì‹œ.
* Allocations per operation (bytes/op, gen0 count).
* Memory footprint (RSS) â€” ì „ì²´ ì‚¬ì „ ë¡œë“œì‹œ.
* Cold start ë¡œë“œ ì‹œê°„ (.bin ë¡œë“œ ë° ì¤€ë¹„ ì‹œê°„).
* ë¹„êµ ëŒ€ìƒ: ProfanityDetector, DotnetBadWordDetector, Censored (ë° ê°€ëŠ¥í•˜ë©´ BogaNet).

# 7) API & ì‚¬ìš© ì˜ˆì‹œ (ë§ˆì¼€íŒ…/ì‚¬ìš©ì„± ë©´ì—ì„œ ê°•ì )

ê°„ë‹¨í•˜ê³  ì§ê´€ì ì¸ APIëŠ” adoptionì„ ë†’ì„ â€” READMEì˜ ì²« ì˜ˆì œë¥¼ 3ì¤„ë¡œ ë§Œë“¤ì.

```csharp
// Load precompiled binary
var filter = FastChatFilter.ProfanityFilter.Load("korean.bin", options: new LoadOptions{ UseMemoryMap = true });

// Simple check
if (filter.Contains(message.AsSpan())) { ... }

// Masking
string censored = filter.Mask(message, maskChar:'*');
```

# 8) ê²°ë¡  ë° ì¶”ì²œ ì•¡ì…˜

* **ê²°ë¡ :** ì„¤ê³„ëŒ€ë¡œ(Span ê¸°ë°˜, ë°”ì¸ë” íŠ¸ë¼ì´ + CSVâ†’ì»´íŒŒì¼ëŸ¬ + net8/netstandard2.1 + NuGet) êµ¬í˜„í•˜ë©´ **ì‹¤ì‚¬ìš© í™˜ê²½ì—ì„œì˜ ì„±ëŠ¥/ë©”ëª¨ë¦¬ ì´ì **ìœ¼ë¡œ ë‹¤ë¥¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ê³¼ ëšœë ·í•œ ì°¨ë³„í™”ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ.
* **ê¶Œì¥ ë‹¤ìŒ ë‹¨ê³„:**

  1. **í•µì‹¬ ê¸°ëŠ¥(Trie ë§¤ì¹­ + ë°”ì´ë„ˆë¦¬ ì§ë ¬í™” + ê°„ë‹¨ API) ìµœì†Œ ê¸°ëŠ¥ êµ¬í˜„**(MVP)
  2. **ë²¤ì¹˜ë§ˆí¬ ìŠ¤í¬ë¦½íŠ¸ ìë™í™”(just-bench)** â€” READMEìš© ê·¸ë˜í”„ ìë™ ìƒì„±
  3. **ì „ì²˜ë¦¬(normalization)+ì˜µì…˜í˜• fuzzy ëª¨ë“ˆ ì„¤ê³„** â€” ë‚˜ì¤‘ì— í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ë¶™ì´ë©´ ML/regexì™€ì˜ í•˜ì´ë¸Œë¦¬ë“œ ê²½ìŸë ¥ í™•ë³´

ì›í•˜ë©´ ì§€ê¸ˆ ë°”ë¡œ **MVP ë²”ìœ„ì˜ ìƒì„¸í•œ í•˜ë£¨ ë‹¨ìœ„ ì‘ì—…ê³„íš(14ì¼)**ê³¼ **ë²¤ì¹˜ë§ˆí¬ ìŠ¤í™(í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤, ì¸¡ì •ë°©ë²•, ì½”ë“œ ìŠ¤ì¼ˆë ˆí†¤)**ì„ ë§Œë“¤ì–´ ì¤„ê²Œ. ì–´ëŠ ê±¸ ë¨¼ì € ì¤„ê¹Œ?


ì¢‹ì•„, ê·¸ëŸ¼ **â€œFastChatFilterâ€ì˜ ì„¤ê³„ë„(ì•„í‚¤í…ì²˜ + ë‚´ë¶€ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„)**ë¥¼
ğŸ‘‰ *ì½”ë“œ ì—ë””í„°ì—ì„œ ë°”ë¡œ êµ¬í˜„ ë“¤ì–´ê°ˆ ìˆ˜ ìˆì„ ì •ë„ë¡œ*
**ë ˆì´ì–´ / ì±…ì„ / ë°ì´í„° íë¦„ / í•µì‹¬ êµ¬ì¡°ì²´ ë‹¨ìœ„**ê¹Œì§€ ìƒì„¸í•˜ê²Œ ì •ë¦¬í•´ì¤„ê²Œ.

ì•„ë˜ ë‚´ìš©ì€ **ë¼ì´ë¸ŒëŸ¬ë¦¬ + ì»´íŒŒì¼ëŸ¬ + ëŸ°íƒ€ì„** ì „ì²´ë¥¼ ì•„ìš°ë¥´ëŠ” **ì‹¤ì „ ì„¤ê³„ë„**ì•¼.

---

# ğŸ“ FastChatFilter ì „ì²´ ì•„í‚¤í…ì²˜ ì„¤ê³„ë„

## 1ï¸âƒ£ ì „ì²´ êµ¬ì¡° í•œëˆˆì— ë³´ê¸° (ë…¼ë¦¬ì  ì„¤ê³„ë„)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            User Application              â”‚
â”‚ (ASP.NET / Game Server / Unity / etc.)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          FastChatFilter Runtime           â”‚
â”‚  (NuGet: FastChatFilter)                 â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Profanity    â”‚â”€â”€â–¶â”‚  Matcher        â”‚ â”‚
â”‚  â”‚ Filter API   â”‚   â”‚  (Span-based)   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                â”‚
â”‚        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”
â”‚        â”‚        Binary Trie             â”‚
â”‚        â”‚  (ReadOnly, Memory-mapped)     â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”‚ Normalizer (optional pipeline)      â”‚
â”‚  â”‚ - Unicode NFKC                      â”‚
â”‚  â”‚ - Lowercase                         â”‚
â”‚  â”‚ - Leetspeak mapping (opt)           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Word Compiler Tool               â”‚
â”‚     (FastChatFilter.Compiler)            â”‚
â”‚                                          â”‚
â”‚  CSV â†’ Normalize â†’ Trie Builder â†’ BIN    â”‚
â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# 2ï¸âƒ£ í”„ë¡œì íŠ¸ ë ˆë²¨ ì„¤ê³„ (ì†”ë£¨ì…˜ êµ¬ì„±)

```
FastChatFilter.sln
â”‚
â”œâ”€ src/
â”‚  â”œâ”€ FastChatFilter/               # NuGet Runtime Library
â”‚  â”‚   â”œâ”€ API/
â”‚  â”‚   â”œâ”€ Matching/
â”‚  â”‚   â”œâ”€ Trie/
â”‚  â”‚   â”œâ”€ Binary/
â”‚  â”‚   â”œâ”€ Normalization/
â”‚  â”‚   â””â”€ Internal/
â”‚  â”‚
â”‚  â””â”€ FastChatFilter.Compiler/      # CSV â†’ BIN ì»´íŒŒì¼ëŸ¬
â”‚
â”œâ”€ benchmarks/
â”‚  â””â”€ FastChatFilter.Benchmarks/
â”‚
â”œâ”€ samples/
â”‚  â”œâ”€ AspNetSample/
â”‚  â””â”€ UnitySample/
â”‚
â””â”€ README.md
```

> â­ **ëŸ°íƒ€ì„ê³¼ ì»´íŒŒì¼ëŸ¬ë¥¼ ë°˜ë“œì‹œ ë¶„ë¦¬**
>
> * NuGetì—ëŠ” **ëŸ°íƒ€ì„ë§Œ í•„ìˆ˜**
> * ì»´íŒŒì¼ëŸ¬ëŠ” CI / ìš´ì˜ìš© íˆ´

---

# 3ï¸âƒ£ Runtime Library ì„¤ê³„ (í•µì‹¬)

## 3.1 Public API Layer (ì ˆëŒ€ ë‹¨ìˆœí•´ì•¼ í•¨)

```csharp
public sealed class ProfanityFilter
{
    public static ProfanityFilter Load(string binaryPath, LoadOptions? options = null);

    public bool Contains(ReadOnlySpan<char> text);

    public string Mask(string text, char maskChar = '*');
}
```

### ğŸ”‘ ì„¤ê³„ ì›ì¹™

* public APIëŠ” **ìµœì†Œ**
* ë‚´ë¶€ êµ¬ì¡° ì „í˜€ ë…¸ì¶œ ì•ˆ í•¨
* Span overload í•„ìˆ˜

---

## 3.2 LoadOptions ì„¤ê³„

```csharp
public sealed class LoadOptions
{
    public bool UseMemoryMap { get; init; } = true;
    public bool EnableNormalization { get; init; } = true;
}
```

---

## 3.3 ë°ì´í„° íë¦„ (Contains í˜¸ì¶œ ì‹œ)

```
ReadOnlySpan<char>
        â”‚
        â–¼
[Normalizer]  (optional, zero alloc)
        â”‚
        â–¼
[Char â†’ Byte Encoder] (UTF-16 ê¸°ë°˜)
        â”‚
        â–¼
[Binary Trie Matcher]
        â”‚
        â–¼
bool
```

---

# 4ï¸âƒ£ Trie & Binary Layout ì„¤ê³„ (ê°€ì¥ ì¤‘ìš”)

## 4.1 Trie ë…¸ë“œ êµ¬ì¡° (ë©”ëª¨ë¦¬ ì¹œí™”)

### âš™ï¸ ëŸ°íƒ€ì„ êµ¬ì¡°ì²´ (ì½ê¸° ì „ìš©)

```csharp
internal readonly struct TrieNode
{
    public readonly int FirstChildIndex;
    public readonly short ChildCount;
    public readonly bool IsTerminal;
}
```

> âœ” í¬ì¸í„° ëŒ€ì‹  **index**
> âœ” GC object ì—†ìŒ
> âœ” ë°°ì—´ ê¸°ë°˜ â†’ CPU cache friendly

---

## 4.2 Binary File Layout (`*.bin`)

```
[Header]
- Magic: "FCF1"
- Version
- NodeCount
- RootIndex

[Node Table]
- Fixed-size TrieNode array

[Edge Table]
- (char / ushort) â†’ childIndex
```

> ğŸ“Œ **char ì§ì ‘ ì €ì¥**
>
> * UTF-16 ê¸°ì¤€
> * normalization í›„ ì…ë ¥ê³¼ 1:1 ë¹„êµ

---

## 4.3 Matcher ì„¤ê³„ (Span ê¸°ë°˜)

```csharp
internal sealed class TrieMatcher
{
    public bool Match(ReadOnlySpan<char> text);
}
```

### ë§¤ì¹­ ì „ëµ

* **O(n)** sliding window
* ë£¨íŠ¸ë¶€í„° ìˆœì°¨ íƒìƒ‰
* ì¤‘ê°„ ì‹¤íŒ¨ ì‹œ ë‹¤ìŒ ë¬¸ìë¶€í„° ì¬ì‹œì‘

---

# 5ï¸âƒ£ Normalization íŒŒì´í”„ë¼ì¸ ì„¤ê³„ (ì˜µì…˜)

```csharp
public interface ITextNormalizer
{
    int Normalize(
        ReadOnlySpan<char> input,
        Span<char> output);
}
```

### ê¸°ë³¸ ì œê³µ

* Lowercase
* Unicode NFKC

### í™•ì¥

* ìˆ«ì â†’ ë¬¸ì (`0 â†’ o`, `1 â†’ l`)
* Homoglyph table

> âš ï¸ ê¸°ë³¸ì€ **OFF or ìµœì†Œ**
> ì„±ëŠ¥ ì¤‘ì‹œ

---

# 6ï¸âƒ£ Masking ì„¤ê³„

```
"this is badword here"
       â–²â–²â–²â–²â–²â–²â–²
```

* Match êµ¬ê°„ start/end ê¸°ë¡
* ì›ë³¸ string â†’ char[] ë³µì‚¬ (1íšŒ í• ë‹¹)
* ë²”ìœ„ë§Œ `maskChar`ë¡œ ì¹˜í™˜

---

# 7ï¸âƒ£ Compiler Tool ì„¤ê³„ (CSV â†’ BIN)

## 7.1 ì…ë ¥ CSV í¬ë§·

```
word
badword
anotherbadword
```

(ë‹¨ì¼ ì»¬ëŸ¼ ì›ì¹™)

---

## 7.2 Compiler Pipeline

```
CSV Reader
   â”‚
   â–¼
Normalizer (same as runtime)
   â”‚
   â–¼
Trie Builder
   â”‚
   â–¼
Node Indexing / Packing
   â”‚
   â–¼
Binary Writer
```

---

## 7.3 CLI ì˜ˆì‹œ

```bash
dotnet FastChatFilter.Compiler.dll \
  --input badwords.csv \
  --output korean.bin \
  --normalize nfkc,lower
```

---

# 8ï¸âƒ£ Benchmarks ì„¤ê³„ (star ë°›ëŠ” í•µì‹¬)

### ë¹„êµ ëŒ€ìƒ

* FastChatFilter
* ProfanityDetector
* Censored
* DotnetBadWordDetector

### ì¸¡ì • í•­ëª©

* ops/sec
* mean / p99 latency
* allocations/op
* bytes allocated

---

# 9ï¸âƒ£ ì´ ì„¤ê³„ì˜ â€œê²°ì •ì  ê°•ì â€

| í•­ëª©         | FastChatFilter |
| ---------- | -------------- |
| ëŸ°íƒ€ì„ í• ë‹¹     | ê±°ì˜ 0           |
| GC ì˜í–¥      | ìµœì†Œ             |
| cold start | ë§¤ìš° ë¹ ë¦„          |
| ìš´ì˜ ë°°í¬      | CSV â†’ BIN      |
| API ë‹¨ìˆœì„±    | â˜…â˜…â˜…â˜…â˜…          |
| ê²Œì„ ì„œë²„ ì í•©ì„±  | â˜…â˜…â˜…â˜…â˜…          |

---

# ğŸ”š ìš”ì•½ (ì¤‘ìš”)

ì´ ì„¤ê³„ëŠ”:

* **â€œì˜ ë§Œë“  ì‹¤ë¬´ ë¼ì´ë¸ŒëŸ¬ë¦¬â€**
* **â€œì„±ëŠ¥ìœ¼ë¡œ ì„¤ë“ ê°€ëŠ¥í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬â€**
* **â€œ2ì£¼ ì•ˆì— MVP êµ¬í˜„ ê°€ëŠ¥í•œ ì„¤ê³„â€**

ë‹¤ìŒìœ¼ë¡œ ê°€ì¥ ì¢‹ì€ íë¦„ì€:

ğŸ‘‰ **ì´ ì„¤ê³„ ê¸°ë°˜ìœ¼ë¡œ 14ì¼ ìƒì„¸ êµ¬í˜„ ì¼ì •**
ğŸ‘‰ **Trie/Binary ì‹¤ì œ ì½”ë“œ ìŠ¤ì¼ˆë ˆí†¤**
ğŸ‘‰ **ë²¤ì¹˜ë§ˆí¬ í”„ë¡œì íŠ¸ ë¼ˆëŒ€**

ë‹¤ìŒ ë‹¨ê³„ ë­ë¶€í„° ê°ˆê¹Œ?
